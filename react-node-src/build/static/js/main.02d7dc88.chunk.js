(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{63:function(e,t,a){e.exports=a(72)},72:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),l=a.n(r),i=a(8),c=a(104),u=a(107),m=a(73),s=(a(33),Object(c.a)((function(e){return{div:{backgroundColor:"#783220",height:"3.6rem",width:"80%",margin:"auto",borderRadius:"1rem",marginTop:"2rem"},h1:{color:"white",textAlign:"center",fontFamily:"roboto"}}}))),d=function(){var e=s();return o.a.createElement(u.a,{className:e.div,elevation:10},o.a.createElement(m.a,{variant:"h3",className:e.h1,gutterBottom:!0},"M\xe9diath\xe8que Javascript"))},f=a(109),b=a(122),h=a(111),p=a(112),g=a(113),v=Object(c.a)((function(e){return{div:{backgroundColor:"#783220",height:"30rem",width:"20rem",borderRadius:"0.3rem",overflow:"auto",position:"relative",marginTop:"1rem",marginBottom:"1rem"},h1:{marginTop:"3%",textAlign:"left",textIndent:"1.5rem",fontFamily:"roboto",color:"white"},flex:{width:"100%",display:"flex",flexDirection:"column"},button:{width:"auto",borderRadius:"0.3rem",margin:"auto",marginTop:"3%",color:"white","&:hover":{background:"#651C1C",boxShadow:"rgba(0, 0, 0, 0.2) -2px -4px inset"}},title:{color:"white"}}})),E=function(e){var t=e.listAdherent,a=v(),r=Object(n.useState)(!1),l=Object(i.a)(r,2),c=l[0],s=l[1],d=Object(n.useState)({name:""}),E=Object(i.a)(d,2),k=E[0],j=E[1],w=Object(n.useState)(),O=Object(i.a)(w,2),x=O[0],y=O[1];var C=function(){s(!c)};return o.a.createElement(u.a,{elevation:6,className:a.div},o.a.createElement(m.a,{variant:"h6",className:a.h1,gutterBottom:!0},"Adh\xe9rents:"),o.a.createElement("div",{className:a.flex},t.map((function(e,t){return o.a.createElement(f.a,{className:a.button,key:t,onClick:function(t){return function(e,t){fetch("/MembersBook?id=".concat(e)).then((function(e){return e.json()})).then((function(e){j(e),y(t),C()}),(function(e){}))}(e.id,e.name)}},e.id,"-",e.name)}))),o.a.createElement(b.a,{PaperProps:{style:{background:"#212324"}},open:c,onClose:C,"aria-labelledby":"form-dialog-title"},o.a.createElement(h.a,{className:a.title,id:"form-dialog-title"},x," \xe0 emprunter ",k.length," livres"),o.a.createElement(p.a,null,Object.keys(k).map((function(e,t){return o.a.createElement(m.a,{key:t,style:{color:"white"},variant:"subtitle1",gutterBottom:!0},k[e].titreLivre)}))),o.a.createElement(g.a,null,o.a.createElement(f.a,{className:a.title,onClick:C},"fermer"))))},k=a(118),j=Object(c.a)((function(e){return{div:{backgroundColor:"#783220",height:"30rem",width:"20rem",borderRadius:"0.3rem",overflow:"auto",position:"relative",marginTop:"1rem",marginBottom:"1rem"},h1:{marginTop:"3%",textAlign:"left",textIndent:"1.5rem",fontFamily:"roboto",color:"white"},flex:{width:"100%",display:"flex",flexDirection:"column"},button:{width:"auto",borderRadius:"0.3rem",margin:"auto",marginTop:"3%",color:"white","&:hover":{background:"#651C1C",boxShadow:"rgba(0, 0, 0, 0.2) -2px -4px inset"}},title:{color:"white"},text:{color:"white","&:before":{borderColor:"#black !important"},"&:after":{borderColor:"#783220 !important"}}}})),w=function(e){var t=e.listAvailable,a=e.getBooks,r=e.getBorrowedBooks,l=j(),c=Object(n.useState)(!1),s=Object(i.a)(c,2),d=s[0],v=s[1],E=Object(n.useState)({name:"",id:""}),w=Object(i.a)(E,2),O=w[0],x=w[1],y=Object(n.useRef)(),C={classes:{root:l.text}},B=function(){v(!d)};return o.a.createElement(u.a,{elevation:6,className:l.div},o.a.createElement(m.a,{variant:"h6",className:l.h1,gutterBottom:!0},"Livres disponibles:"),o.a.createElement("div",{className:l.flex},t.map((function(e,t){return o.a.createElement(f.a,{className:l.button,key:t,onClick:function(t){return a=e.name,n=e.id,x({name:a,id:n}),void B();var a,n}},e.name)}))),o.a.createElement(b.a,{PaperProps:{style:{background:"#212324"}},open:d,onClose:B,"aria-labelledby":"form-dialog-title"},o.a.createElement(h.a,{className:l.title,id:"form-dialog-title"},"emprunt de '",O.name,"'"),o.a.createElement(p.a,null,o.a.createElement(k.a,{InputProps:C,InputLabelProps:{style:{color:"#783220"}},autoFocus:!0,margin:"dense",id:"name",label:"num\xe9ro de l'emprunteur",type:"textr",fullWidth:!0,inputRef:y})),o.a.createElement(g.a,null,o.a.createElement(f.a,{className:l.title,onClick:B},"fermer"),o.a.createElement(f.a,{className:l.title,onClick:function(){fetch("/borrowBook?idAdherent=".concat(y.current.value,"&idLivre=").concat(O.id)).then((function(e){return e.json()})).then((function(e){a(),r()}),(function(e){})),B()}},"emprunter"))))},O=Object(c.a)((function(e){return{div:{backgroundColor:"#783220",height:"30rem",width:"20rem",borderRadius:"0.3rem",overflow:"auto",position:"relative",marginTop:"1rem",marginBottom:"1rem"},h1:{marginTop:"3%",textAlign:"left",textIndent:"1.5rem",fontFamily:"roboto",color:"white"},flex:{width:"100%",display:"flex",flexDirection:"column"},button:{width:"auto",borderRadius:"0.3rem",margin:"auto",marginTop:"3%",color:"white","&:hover":{background:"#651C1C",boxShadow:"rgba(0, 0, 0, 0.2) -2px -4px inset"}},title:{color:"white"}}})),x=function(e){var t=e.listBorrowed,a=e.getBooks,r=e.getBorrowedBooks,l=O(),c=Object(n.useState)(!1),s=Object(i.a)(c,2),d=s[0],v=s[1],E=Object(n.useState)(""),k=Object(i.a)(E,2),j=k[0],w=k[1],x=Object(n.useState)(""),y=Object(i.a)(x,2),C=y[0],B=y[1];var N=function(){v(!d)};return o.a.createElement(u.a,{elevation:6,className:l.div},o.a.createElement(m.a,{variant:"h6",className:l.h1,gutterBottom:!0},"Livres emprunt\xe9s:"),o.a.createElement("div",{className:l.flex},t.map((function(e,t){return o.a.createElement(f.a,{className:l.button,key:t,onClick:function(t){return function(e,t){fetch("/BorrowersBook?id=".concat(e)).then((function(e){return e.json()})).then((function(e){w(e[0].nomAdherent),N()}),(function(e){})),B({name:t,id:e})}(e.id,e.name)}},e.name)}))),o.a.createElement(b.a,{PaperProps:{style:{background:"#212324"}},open:d,onClose:N,"aria-labelledby":"form-dialog-title"},o.a.createElement(h.a,{className:l.title,id:"form-dialog-title"},"Livre pr\xe9t\xe9 \xe0 ",j),o.a.createElement(p.a,null,o.a.createElement(m.a,{style:{color:"white"},variant:"subtitle1",gutterBottom:!0},"Retour de ce livre?")),o.a.createElement(g.a,null,o.a.createElement(f.a,{className:l.title,onClick:function(){console.log(C.name),console.log(C.name),fetch("/returnBook?id=".concat(C.id,"&name=").concat(C.name)).then((function(e){return e.json()})).then((function(e){a(),r()}),(function(e){})),N()}},"Ok"),o.a.createElement(f.a,{className:l.title,onClick:N},"fermer"))))},y=a(115),C=a(116),B=a(123),N=a(120),S=a(121),P=Object(c.a)((function(e){return{speedDial:{position:"fixed",right:"2%",bottom:"5%"},title:{color:"white"},text:{color:"white","&:before":{borderColor:"#black !important"},"&:after":{borderColor:"#783220 !important"}}}})),A=function(e){var t=e.getMembers,a=e.getBooks,r=P(),l=Object(n.useState)("up"),c=Object(i.a)(l,2),u=c[0],m=(c[1],Object(n.useState)(!1)),s=Object(i.a)(m,2),d=s[0],v=s[1],E=Object(n.useState)(!1),j=Object(i.a)(E,2),w=j[0],O=j[1],x=Object(n.useState)(!1),A=Object(i.a)(x,2),R=A[0],L=A[1],T=Object(n.useRef)(),I=Object(n.useRef)(),F={classes:{root:r.text}},D=function(){v(!d)},M=function(){O(!w)},W=function(){L(!R)},J=[{icon:o.a.createElement(y.a,null),name:"ajouter un adh\xe9rent",function:W},{icon:o.a.createElement(C.a,null),name:"ajouter un livre",function:M}];return o.a.createElement("div",null,o.a.createElement(B.a,{ariaLabel:"SpeedDial example",className:r.speedDial,icon:o.a.createElement(N.a,null),onClick:D,open:d,FabProps:{style:{background:"#651C1C"}},direction:u},J.map((function(e){return o.a.createElement(S.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:e.function})}))),o.a.createElement(b.a,{PaperProps:{style:{background:"#212324"}},open:w,onClose:M,"aria-labelledby":"form-dialog-title"},o.a.createElement(h.a,{className:r.title,id:"form-dialog-title"},"Ajouter un livre"),o.a.createElement(p.a,null,o.a.createElement(k.a,{InputProps:F,InputLabelProps:{style:{color:"#783220"}},autoFocus:!0,margin:"dense",id:"name",label:"Nom du livre",type:"text",fullWidth:!0,inputRef:T})),o.a.createElement(g.a,null,o.a.createElement(f.a,{className:r.title,onClick:M,color:"primary"},"annuler"),o.a.createElement(f.a,{className:r.title,onClick:function(){fetch("/addBook?name=".concat(T.current.value)).then((function(e){return e.json()})).then((function(e){a()}),(function(e){})),M()},color:"primary"},"ajouter"))),o.a.createElement(b.a,{PaperProps:{style:{background:"#212324"}},open:R,onClose:W,"aria-labelledby":"form-dialog-title"},o.a.createElement(h.a,{className:r.title,id:"form-dialog-title"},"Ajouter un adh\xe9rent"),o.a.createElement(p.a,null,o.a.createElement(k.a,{InputProps:F,InputLabelProps:{style:{color:"#783220"}},autoFocus:!0,margin:"dense",id:"name",label:"nom de l'adh\xe9rant",type:"text",fullWidth:!0,inputRef:I})),o.a.createElement(g.a,null,o.a.createElement(f.a,{className:r.title,onClick:W},"annuler"),o.a.createElement(f.a,{className:r.title,onClick:function(){fetch("/addMember?name=".concat(I.current.value)).then((function(e){return e.json()})).then((function(e){t()}),(function(e){})),W()}},"ajouter"))))},R=Object(c.a)((function(e){return{background:{backgroundColor:"#212324",height:"auto",minHeight:"100vh",width:"100%",position:"absolute"},flex:{display:"flex",justifyContent:"space-around",width:"100%",flexWrap:"wrap",marginTop:"3%"}}})),L=function(){var e=R(),t=Object(n.useState)([{name:"",id:""}]),a=Object(i.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)([{name:""}]),u=Object(i.a)(c,2),m=u[0],s=u[1],f=Object(n.useState)([{name:""}]),b=Object(i.a)(f,2),h=b[0],p=b[1];function g(){var e=[];fetch("/getMembers").then((function(e){return e.json()})).then((function(t){for(var a=0;a<Object.keys(t).length;a++)e.push({id:t[a].idAdherent,name:t[a].nomAdherent});l(e)}),(function(e){}))}function v(){var e=[];fetch("/getBooks").then((function(e){return e.json()})).then((function(t){for(var a=0;a<Object.keys(t).length;a++)e.push({id:t[a].idLivre,name:t[a].titreLivre});s(e)}),(function(e){}))}function k(){var e=[];fetch("/getBorrowedBooks").then((function(e){return e.json()})).then((function(t){for(var a=0;a<Object.keys(t).length;a++)e.push({id:t[a].idLivre,name:t[a].titreLivre});p(e)}),(function(e){}))}return Object(n.useEffect)((function(){g(),v(),k()}),[]),o.a.createElement("div",{className:e.background},o.a.createElement(d,null),o.a.createElement("div",{className:e.flex},o.a.createElement(E,{listAdherent:r}),o.a.createElement(w,{listAvailable:m,getBooks:v,getBorrowedBooks:k}),o.a.createElement(x,{listBorrowed:h,getBooks:v,getBorrowedBooks:k})),o.a.createElement(A,{getMembers:g,getBooks:v}))};l.a.render(o.a.createElement(L,null),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.02d7dc88.chunk.js.map