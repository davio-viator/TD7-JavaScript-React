(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{63:function(e,t,a){e.exports=a(72)},72:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(9),l=a.n(r),i=a(8),c=a(104),u=a(107),m=a(73),s=(a(33),Object(c.a)((function(e){return{div:{backgroundColor:"#783220",height:"3.6rem",width:"80%",margin:"auto",borderRadius:"1rem",marginTop:"2rem"},h1:{color:"white",textAlign:"center",fontFamily:"roboto"}}}))),d=function(){var e=s();return o.a.createElement(u.a,{className:e.div,elevation:10},o.a.createElement(m.a,{variant:"h3",className:e.h1,gutterBottom:!0},"M\xe9diath\xe8que Javascript"))},f=a(109),b=a(122),h=a(111),p=a(112),g=a(113),v=Object(c.a)((function(e){return{div:{backgroundColor:"#783220",height:"30rem",width:"20rem",borderRadius:"0.3rem",overflow:"auto",position:"relative",marginTop:"1rem",marginBottom:"1rem"},h1:{marginTop:"3%",textAlign:"left",textIndent:"1.5rem",fontFamily:"roboto",color:"white"},flex:{width:"100%",display:"flex",flexDirection:"column"},button:{width:"auto",borderRadius:"0.3rem",margin:"auto",marginTop:"3%",color:"white","&:hover":{background:"#651C1C",boxShadow:"rgba(0, 0, 0, 0.2) -2px -4px inset"}},title:{color:"white"}}})),j=function(e){var t=e.listAdherent,a=v(),r=Object(n.useState)(!1),l=Object(i.a)(r,2),c=l[0],s=l[1],d=Object(n.useState)({name:""}),j=Object(i.a)(d,2),E=j[0],k=j[1],O=Object(n.useState)(),w=Object(i.a)(O,2),x=w[0],C=w[1];var y=function(){s(!c)};return o.a.createElement(u.a,{elevation:6,className:a.div},o.a.createElement(m.a,{variant:"h6",className:a.h1,gutterBottom:!0},"Adh\xe9rents:"),o.a.createElement("div",{className:a.flex},t.map((function(e,t){return o.a.createElement(f.a,{className:a.button,key:t,onClick:function(t){return function(e,t){fetch("/MembersBook?id=".concat(e)).then((function(e){return e.json()})).then((function(e){k(e),C(t),y()}),(function(e){}))}(e.id,e.name)}},e.id,"-",e.name)}))),o.a.createElement(b.a,{PaperProps:{style:{background:"#212324"}},open:c,onClose:y,"aria-labelledby":"form-dialog-title"},o.a.createElement(h.a,{className:a.title,id:"form-dialog-title"},x," \xe0 emprunter ",E.length," livres"),o.a.createElement(p.a,null,Object.keys(E).map((function(e,t){return o.a.createElement(m.a,{key:t,style:{color:"white"},variant:"subtitle1",gutterBottom:!0},E[e].titreLivre)}))),o.a.createElement(g.a,null,o.a.createElement(f.a,{className:a.title,onClick:y},"fermer"))))},E=a(118),k=Object(c.a)((function(e){return{div:{backgroundColor:"#783220",height:"30rem",width:"20rem",borderRadius:"0.3rem",overflow:"auto",position:"relative",marginTop:"1rem",marginBottom:"1rem"},h1:{marginTop:"3%",textAlign:"left",textIndent:"1.5rem",fontFamily:"roboto",color:"white"},flex:{width:"100%",display:"flex",flexDirection:"column"},button:{width:"auto",borderRadius:"0.3rem",margin:"auto",marginTop:"3%",color:"white","&:hover":{background:"#651C1C",boxShadow:"rgba(0, 0, 0, 0.2) -2px -4px inset"}},title:{color:"white"},text:{color:"white","&:before":{borderColor:"#black !important"},"&:after":{borderColor:"#783220 !important"}}}})),O=function(e){var t=e.listAvailable,a=e.getBooks,r=e.getBorrowedBooks,l=e.listAdherent,c=k(),s=Object(n.useState)(!1),d=Object(i.a)(s,2),v=d[0],j=d[1],O=Object(n.useState)({name:"",id:""}),w=Object(i.a)(O,2),x=w[0],C=w[1],y=Object(n.useState)(!0),B=Object(i.a)(y,2),N=B[0],S=B[1],A=Object(n.useState)(!1),P=Object(i.a)(A,2),R=P[0],L=P[1],T=Object(n.useRef)(),I={classes:{root:c.text}},F=function(){v?(j(!1),L(!1)):j(!0)};return o.a.createElement(u.a,{elevation:6,className:c.div},o.a.createElement(m.a,{variant:"h6",className:c.h1,gutterBottom:!0},"Livres disponibles:"),o.a.createElement("div",{className:c.flex},t.map((function(e,t){return o.a.createElement(f.a,{className:c.button,key:t,onClick:function(t){return a=e.name,n=e.id,C({name:a,id:n}),void F();var a,n}},e.name)}))),o.a.createElement(b.a,{PaperProps:{style:{background:"#212324"}},open:v,onClose:F,"aria-labelledby":"form-dialog-title"},o.a.createElement(h.a,{className:c.title,id:"form-dialog-title"},"emprunt de '",x.name,"'"),o.a.createElement(p.a,null,o.a.createElement(E.a,{InputProps:I,InputLabelProps:{style:{color:"#783220"}},autoFocus:!0,margin:"dense",id:"name",label:"num\xe9ro de l'emprunteur",type:"textr",fullWidth:!0,inputRef:T,onChange:function(){var e=!0;l.forEach((function(t){t.id===parseInt(T.current.value)&&(e=!1)})),e&&""!=T.current.value?L(!0):L(!1),S(e)},error:N,helperText:R&&"\xe7a ne correspond pas \xe0 un num\xe9ro d'emprunteur",autoComplete:"off"})),o.a.createElement(g.a,null,o.a.createElement(f.a,{className:c.title,onClick:F},"fermer"),o.a.createElement(f.a,{disabled:N,className:c.title,onClick:function(){fetch("/borrowBook?idAdherent=".concat(T.current.value,"&idLivre=").concat(x.id)).then((function(e){return e.json()})).then((function(e){a(),r()}),(function(e){})),F()}},"emprunter"))))},w=Object(c.a)((function(e){return{div:{backgroundColor:"#783220",height:"30rem",width:"20rem",borderRadius:"0.3rem",overflow:"auto",position:"relative",marginTop:"1rem",marginBottom:"1rem"},h1:{marginTop:"3%",textAlign:"left",textIndent:"1.5rem",fontFamily:"roboto",color:"white"},flex:{width:"100%",display:"flex",flexDirection:"column"},button:{width:"auto",borderRadius:"0.3rem",margin:"auto",marginTop:"3%",color:"white","&:hover":{background:"#651C1C",boxShadow:"rgba(0, 0, 0, 0.2) -2px -4px inset"}},title:{color:"white"}}})),x=function(e){var t=e.listBorrowed,a=e.getBooks,r=e.getBorrowedBooks,l=w(),c=Object(n.useState)(!1),s=Object(i.a)(c,2),d=s[0],v=s[1],j=Object(n.useState)(""),E=Object(i.a)(j,2),k=E[0],O=E[1],x=Object(n.useState)(""),C=Object(i.a)(x,2),y=C[0],B=C[1];var N=function(){v(!d)};return o.a.createElement(u.a,{elevation:6,className:l.div},o.a.createElement(m.a,{variant:"h6",className:l.h1,gutterBottom:!0},"Livres emprunt\xe9s:"),o.a.createElement("div",{className:l.flex},t.map((function(e,t){return o.a.createElement(f.a,{className:l.button,key:t,onClick:function(t){return function(e,t){fetch("/BorrowersBook?id=".concat(e)).then((function(e){return e.json()})).then((function(e){O(e[0].nomAdherent),N()}),(function(e){})),B({name:t,id:e})}(e.id,e.name)}},e.name)}))),o.a.createElement(b.a,{PaperProps:{style:{background:"#212324"}},open:d,onClose:N,"aria-labelledby":"form-dialog-title"},o.a.createElement(h.a,{className:l.title,id:"form-dialog-title"},"Livre pr\xe9t\xe9 \xe0 ",k),o.a.createElement(p.a,null,o.a.createElement(m.a,{style:{color:"white"},variant:"subtitle1",gutterBottom:!0},"Retour de ce livre?")),o.a.createElement(g.a,null,o.a.createElement(f.a,{className:l.title,onClick:function(){console.log(y.name),console.log(y.name),fetch("/returnBook?id=".concat(y.id,"&name=").concat(y.name)).then((function(e){return e.json()})).then((function(e){a(),r()}),(function(e){})),N()}},"Ok"),o.a.createElement(f.a,{className:l.title,onClick:N},"fermer"))))},C=a(115),y=a(116),B=a(123),N=a(120),S=a(121),A=Object(c.a)((function(e){return{speedDial:{position:"fixed",right:"2%",bottom:"5%"},title:{color:"white"},text:{color:"white","&:before":{borderColor:"#black !important"},"&:after":{borderColor:"#783220 !important"}}}})),P=function(e){var t=e.getMembers,a=e.getBooks,r=A(),l=Object(n.useState)("up"),c=Object(i.a)(l,2),u=c[0],m=(c[1],Object(n.useState)(!1)),s=Object(i.a)(m,2),d=s[0],v=s[1],j=Object(n.useState)(!1),k=Object(i.a)(j,2),O=k[0],w=k[1],x=Object(n.useState)(!1),P=Object(i.a)(x,2),R=P[0],L=P[1],T=Object(n.useState)(!1),I=Object(i.a)(T,2),F=I[0],D=I[1],M=Object(n.useState)(!1),W=Object(i.a)(M,2),J=W[0],q=W[1],H=Object(n.useRef)(),z=Object(n.useRef)(),G={classes:{root:r.text}},K=function(){v(!d)},Q=function(){O?(w(!1),q("")):w(!0)},U=function(){R?(L(!1),D("")):L(!0)},V=[{icon:o.a.createElement(C.a,null),name:"ajouter un adh\xe9rent",function:U},{icon:o.a.createElement(y.a,null),name:"ajouter un livre",function:Q}];return o.a.createElement("div",null,o.a.createElement(B.a,{ariaLabel:"SpeedDial example",className:r.speedDial,icon:o.a.createElement(N.a,null),onClick:K,open:d,FabProps:{style:{background:"#651C1C"}},direction:u},V.map((function(e){return o.a.createElement(S.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:e.function})}))),o.a.createElement(b.a,{PaperProps:{style:{background:"#212324"}},open:O,onClose:Q,"aria-labelledby":"form-dialog-title"},o.a.createElement(h.a,{className:r.title,id:"form-dialog-title"},"Ajouter un livre"),o.a.createElement(p.a,null,o.a.createElement(E.a,{InputProps:G,InputLabelProps:{style:{color:"#783220"}},autoFocus:!0,margin:"dense",id:"name",label:"Nom du livre",type:"text",fullWidth:!0,inputRef:H,onChange:function(){q(H.current.value)},autoComplete:"off"})),o.a.createElement(g.a,null,o.a.createElement(f.a,{className:r.title,onClick:Q,color:"primary"},"annuler"),o.a.createElement(f.a,{className:r.title,disabled:!J,onClick:function(){fetch("/addBook?name=".concat(H.current.value)).then((function(e){return e.json()})).then((function(e){a()}),(function(e){})),Q()},color:"primary"},"ajouter"))),o.a.createElement(b.a,{PaperProps:{style:{background:"#212324"}},open:R,onClose:U,"aria-labelledby":"form-dialog-title"},o.a.createElement(h.a,{className:r.title,id:"form-dialog-title"},"Ajouter un adh\xe9rent"),o.a.createElement(p.a,null,o.a.createElement(E.a,{InputProps:G,InputLabelProps:{style:{color:"#783220"}},autoFocus:!0,margin:"dense",id:"name",label:"nom de l'adh\xe9rant",type:"text",fullWidth:!0,inputRef:z,onChange:function(){D(z.current.value)},autoComplete:"off"})),o.a.createElement(g.a,null,o.a.createElement(f.a,{className:r.title,onClick:U},"annuler"),o.a.createElement(f.a,{className:r.title,disabled:!F,onClick:function(){fetch("/addMember?name=".concat(z.current.value)).then((function(e){return e.json()})).then((function(e){t()}),(function(e){})),U()}},"ajouter"))))},R=Object(c.a)((function(e){return{background:{backgroundColor:"#212324",height:"auto",minHeight:"100vh",width:"100%",position:"absolute"},flex:{display:"flex",justifyContent:"space-around",width:"100%",flexWrap:"wrap",marginTop:"3%"}}})),L=function(){var e=R(),t=Object(n.useState)([{name:"",id:""}]),a=Object(i.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)([{name:""}]),u=Object(i.a)(c,2),m=u[0],s=u[1],f=Object(n.useState)([{name:""}]),b=Object(i.a)(f,2),h=b[0],p=b[1];function g(){var e=[];fetch("/getMembers").then((function(e){return e.json()})).then((function(t){for(var a=0;a<Object.keys(t).length;a++)e.push({id:t[a].idAdherent,name:t[a].nomAdherent});l(e)}),(function(e){}))}function v(){var e=[];fetch("/getBooks").then((function(e){return e.json()})).then((function(t){for(var a=0;a<Object.keys(t).length;a++)e.push({id:t[a].idLivre,name:t[a].titreLivre});s(e)}),(function(e){}))}function E(){var e=[];fetch("/getBorrowedBooks").then((function(e){return e.json()})).then((function(t){for(var a=0;a<Object.keys(t).length;a++)e.push({id:t[a].idLivre,name:t[a].titreLivre});p(e)}),(function(e){}))}return Object(n.useEffect)((function(){g(),v(),E()}),[]),o.a.createElement("div",{className:e.background},o.a.createElement(d,null),o.a.createElement("div",{className:e.flex},o.a.createElement(j,{listAdherent:r}),o.a.createElement(O,{listAvailable:m,getBooks:v,getBorrowedBooks:E,listAdherent:r}),o.a.createElement(x,{listBorrowed:h,getBooks:v,getBorrowedBooks:E})),o.a.createElement(P,{getMembers:g,getBooks:v}))};l.a.render(o.a.createElement(L,null),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.b3e9a546.chunk.js.map